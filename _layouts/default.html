<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}

  <body>
    <div class="container">

      {%- include header.html -%}

      <main>
        {{ content }}
      </main>

      {%- include footer.html -%}

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js" integrity="sha512-hM0R3pW9UdoNG9T+oIW5pG9ndvy3OKChFfVTKzjyxNW9xrt6vAbD3OeFWdSLQ8mjKSgd9dSO3RXn3tojQtiA8Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-xCfKr8zIONbip3Q1XG/u5x40hoJ0/DtP1bxyMEi0GWzUFoUffE+Dfw1Br8j55RRt9qG7bGKsh+4tSb1CvFHPSA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      function setTheme() {
        console.log('setTheme');
        let linkTheme = document.getElementById('prism-theme');

        if (linkTheme)
          document.head.removeChild(linkTheme);

        linkTheme = document.createElement('link');
        linkTheme.id = 'prism-theme';
        linkTheme.rel = 'stylesheet';
        linkTheme.setAttribute('crossorigin', 'anonymous');
        linkTheme.setAttribute('referrerpolicy', 'no-referrer');

        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          linkTheme.href = 'https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.5.0/prism-material-dark.min.css';
          linkTheme.setAttribute('integrity', 'sha512-xkYUyNHum+3ENPH3NP0YcQRYfa3Ocj0jOsRGtcuz3WYVl6YwuVmNpHwiEUrYd7LdMfgbkyt8UvXkoyPVfORS3A==');
        } else {
          linkTheme.href = 'https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.5.0/prism-material-light.min.css';
          linkTheme.setAttribute('integrity', 'sha512-O5jY0oTgD2Elx8HWIERZc4ZpMfpXeTdmz03FfAWoieGoa940jVMFC4sm183QCcvHlQTmTgoV5im5KFPwj4B5xg==');
        }

        document.head.appendChild(linkTheme);
      }

      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setTheme);

      setTheme();
    </script>
  </body>
</html>
